(function(a){a.jqx.jqxWidget("myWidget","",{});a.extend(a.jqx._myWidget.prototype,{var1:5,var2:10,foo:function(b){this.var1*=b},bar:function(){alert(this.var1)},createInstance:function(b){}});a.jqx.jqxWidget("jqxScrollBar","",{});a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.roundedCorners="all";this.disabled=false},createInstance:function(c){var b=this;this.host.append("<div style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.btnUp=this.host.find("#jqxScrollBtnUp");this.btnDown=this.host.find("#jqxScrollBtnDown");this.btnThumb=this.host.find("#jqxScrollThumb");this.areaUp=this.host.find("#jqxScrollAreaUp");this.areaDown=this.host.find("#jqxScrollAreaDown");this.scrollWrap=this.host.find("#jqxScrollWrap");this.btnUp.jqxRepeatButton({overrideTheme:true});this.btnDown.jqxRepeatButton({overrideTheme:true});this.areaUp.jqxRepeatButton({overrideTheme:true,delay:300});this.areaDown.jqxRepeatButton({overrideTheme:true,delay:300});this.btnThumb.jqxButton({overrideTheme:true});this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.refresh();this.setPosition(this.value);this._arrange();this._addHandlers();this.propertyChangeMap.value=function(d,f,e,g){d.setPosition(g)};this.buttonUpCapture=false;this.buttonDownCapture=false;this._arrange();this.setTheme()},_addHandlers:function(){var c=this;this.addHandler(this.btnUp,"click",function(d){if(c.buttonUpCapture&&!c.isTouchDevice){if(!c.disabled){c.setPosition(c.value-c.step)}}else{if(!c.disabled&&c.isTouchDevice){c.setPosition(c.value-c.step)}}});this.addHandler(this.btnDown,"click",function(d){if(c.buttonDownCapture&&!c.isTouchDevice){if(!c.disabled){c.setPosition(c.value+c.step)}}else{if(!c.disabled&&c.isTouchDevice){c.setPosition(c.value+c.step)}}});if(!this.isTouchDevice){this.addHandler(this.btnDown,"mouseup",function(d){c.buttonDownCapture=false;c.btnDown.removeClass(c.toThemeProperty("jqx-scrollbar-button-state-pressed"));c.handlemouseup(d);return false});this.addHandler(this.btnUp,"mouseup",function(d){c.buttonUpCapture=false;c.btnUp.removeClass(c.toThemeProperty("jqx-scrollbar-button-state-pressed"));c.handlemouseup(d);return false});this.addHandler(this.btnDown,"mousedown",function(d){c.buttonDownCapture=true;c.btnDown.addClass(c.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false});this.addHandler(this.btnUp,"mousedown",function(d){c.buttonUpCapture=true;c.btnUp.addClass(c.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false})}this.addHandler(this.areaUp,"click",function(d){if(!c.disabled){c.setPosition(c.value-c.largestep);return false}});this.addHandler(this.areaDown,"click",function(d){if(!c.disabled){c.setPosition(c.value+c.largestep);return false}});this.addHandler(this.areaUp,"mousedown",function(d){if(!c.disabled){return false}});this.addHandler(this.areaDown,"mousedown",function(d){if(!c.disabled){return false}});this.addHandler(this.btnThumb,"mousedown",function(d){if(!c.disabled){c.handlemousedown(d)}return false});this.addHandler(a(document),"mouseup",function(d){if(!c.disabled){c.handlemouseup(d)}});if(!this.isTouchDevice){this.addHandler(a(document),"mousemove",function(d){if(!c.disabled){c.handlemousemove(d)}});this.addHandler(a(document),"mouseleave",function(d){if(!c.disabled){c.handlemouseleave(d)}});this.addHandler(a(document),"mouseenter",function(d){if(!c.disabled){c.handlemouseenter(d)}});if(!c.disabled){this.btnUp.hover(function(){if(!c.disabled){c.btnUp.addClass(c.toThemeProperty("jqx-scrollbar-button-state-hover"))}},function(){if(!c.disabled){c.btnUp.removeClass(c.toThemeProperty("jqx-scrollbar-button-state-hover"))}});var b=c.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!c.vertical){b=c.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.btnThumb.hover(function(){if(!c.disabled){c.btnThumb.addClass(b)}},function(){if(!c.disabled){c.btnThumb.removeClass(b)}});this.btnDown.hover(function(){if(!c.disabled){c.btnDown.addClass(c.toThemeProperty("jqx-scrollbar-button-state-hover"))}},function(){if(!c.disabled){c.btnDown.removeClass(c.toThemeProperty("jqx-scrollbar-button-state-hover"))}})}}},_removeHandlers:function(){this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(a(document),"mouseup");this.removeHandler(a(document),"mousemove");this.removeHandler(a(document),"mouseleave");this.removeHandler(a(document),"mouseenter");this.btnUp.unbind("hover");this.btnThumb.unbind("hover");this.btnDown.unbind("hover")},setTheme:function(){var b=this.btnUp;var f=this.btnDown;var d=this.btnThumb;var c=this.host.find("#jqxScrollWrap");var g=this.areaUp;var e=this.areaDown;e.removeClass();g.removeClass();f.removeClass();b.removeClass();d.removeClass();f.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));if(this.vertical){b.addClass(this.toThemeProperty("icon-arrow-up"));f.addClass(this.toThemeProperty("icon-arrow-down"));d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal"))}else{b.addClass(this.toThemeProperty("icon-arrow-left"));f.addClass(this.toThemeProperty("icon-arrow-right"));d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal"))}if(this.disabled){c.addClass(this.toThemeProperty("jqx-fill-state-disabled"));c.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));c.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(b.jqxRepeatButton("disabled")!=this.disabled){b.jqxRepeatButton("disabled",this.disabled)}if(f.jqxRepeatButton("disabled")!=this.disabled){f.jqxRepeatButton("disabled",this.disabled)}if(d.jqxButton("disabled")!=this.disabled){d.jqxButton("disabled",this.disabled)}},handlemousedown:function(c){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var b=this.btnThumb;if(b!=null){if(this.vertical){b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=c.clientX;this.dragStartY=c.clientY;this.dragStartValue=this.value},toggleHover:function(c,b){},refresh:function(){this._arrange()},_setElementPosition:function(c,b,d){c[0].style.left=b+"px";c[0].style.top=d+"px"},handlemouseleave:function(e){var b=this.btnUp;var d=this.btnDown;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));if(this.thumbCapture!=true){return}var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f)},handlemouseenter:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonUpCapture){b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"))}if(this.buttonDownCapture){d.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"))}if(this.thumbCapture!=true){return}var c=this.btnThumb;if(this.vertical){c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}},handlemousemove:function(b){var h=this.btnUp;var d=this.btnDown;var c=0;if(d==null||h==null){return}if(h!=null&&d!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&b.which==c){d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this.buttonDownCapture=false}else{if(this.buttonUpCapture&&b.which==c){h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var j=this.btnThumb;if(b.which==c){this.thumbCapture=false;this._arrange();var i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");j.removeClass(i);return true}if(b.preventDefault!=undefined){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}var k=0;try{if(!this.vertical){k=b.clientX-this.dragStartX}else{k=b.clientY-this.dragStartY}var e=(this.vertical)?h.height()+d.height()+j.height():h.width()+d.width()+j.width();var f=(this.max-this.min)/(this.scrollBarSize-e);k*=f;this.setPosition(this.dragStartValue+k)}catch(g){alert(g)}return false},handlemouseup:function(e){if(this.thumbCapture){this.thumbCapture=false;var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f)}var b=this.btnUp;var d=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"))},setPosition:function(b){var c=this.element;if(b==undefined||b==NaN){b=this.min}if(b>this.max){b=this.max}else{if(b<this.min){b=this.min}}var d=new jQuery.Event("valuechanged");if(this.value!=b){d.previousValue=this.value;d.currentValue=b;this.value=b;this._arrange();this.host.trigger(d)}return b},_getThumbSize:function(b){var d=this.max-this.min;var c=0;if(d>1){c=(b/(d+b)*b)}else{if(d==1){c=b}}if(c<this.thumbMinSize){c=this.thumbMinSize}return Math.min(c,b)},_arrange:function(){var d=this.element;var h=this.areaUp;var t=this.areaDown;var c=this.btnUp;var m=this.btnDown;var u=this.btnThumb;var o=this.scrollWrap;if(this.roundedCorners=="all"){if(this.vertical){c.jqxRepeatButton();m.jqxRepeatButton();var g=a.jqx.cssroundedcorners("top");g=this.toThemeProperty(g);c.addClass(g);var q=a.jqx.cssroundedcorners("bottom");q=this.toThemeProperty(q);m.addClass(q)}else{c.jqxRepeatButton();m.jqxRepeatButton();var l=a.jqx.cssroundedcorners("left");l=this.toThemeProperty(l);c.addClass(l);var i=a.jqx.cssroundedcorners("right");i=this.toThemeProperty(i);m.addClass(i)}}else{var s=a.jqx.cssroundedcorners(this.roundedCorners);s=this.toThemeProperty(s);c.addClass(s);m.addClass(s)}u.jqxButton();var s=a.jqx.cssroundedcorners(this.roundedCorners);s=this.toThemeProperty(s);u.addClass(s);var n=this.host.height();var p=this.host.width();var b=(!this.vertical)?n:p;c.css({width:b+"px"});c.css({height:b+"px"});m.css({width:b+"px"});m.css({height:b+"px"});if(this.vertical){o.css({width:b+2+"px"})}else{o.css({height:b+2+"px"})}this._setElementPosition(c,0,0);if(this.vertical){this._setElementPosition(m,0,n-m.outerHeight())}else{this._setElementPosition(m,p-m.outerWidth(),0)}var f=(!this.vertical)?p:n;this.scrollBarSize=f;var j=this._getThumbSize(f-2*b);j=Math.round(j);if(j<this.thumbMinSize){j=this.thumbMinSize}if(!this.vertical){u.css({width:j+"px"});u.css({height:b+"px"})}else{u.css({width:b+"px"});u.css({height:j+"px"})}if(n==NaN||n<10){n=10}if(p==NaN||p<10){p=10}b+=2;this.btnSize=b;var e=(this.vertical)?2*this.btnSize+u.outerHeight():2*this.btnSize+u.outerWidth();e=Math.round(e);var v=(f-e)/(this.max-this.min)*this.value;v=Math.round(v);if(this.vertical){t.css({height:(f-v-e)+"px",width:b+"px"});h.css({height:v+"px",width:b+"px"});var k=parseInt(this.host.height());if(k-3*parseInt(b)<0){u.css("visibility","hidden")}else{if(this.host.css("visibility")=="visible"){u.css("visibility","inherit")}}this._setElementPosition(h,0,b);this._setElementPosition(u,0,b+v);this._setElementPosition(t,0,b+v+j)}else{h.css({width:v+"px",height:b+"px"});t.css({width:(f-v-e)+"px",height:b+"px"});var r=parseInt(this.host.width());if(r-3*parseInt(b)<0){u.css("visibility","hidden")}else{if(this.host.css("visibility")=="visible"){u.css("visibility","inherit")}}this._setElementPosition(h,b,0);this._setElementPosition(u,b+v,0);this._setElementPosition(t,2+b+v+j,0)}}})})(jQuery);